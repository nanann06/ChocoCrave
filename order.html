<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <title>Order – ChocoCrave</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&family=Playfair+Display:wght@700;900&display=swap"
      rel="stylesheet"
    />

    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      body {
        font-family: "Poppins", sans-serif;
        background: radial-gradient(circle at top, #6b3e27, #3b2419, #2b1a12);
        color: #fff;
      }

      /* ===== NAVBAR ===== */
      header {
        position: fixed;
        top: 0;
        width: 100%;
        padding: 14px 50px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        backdrop-filter: blur(6px);
        z-index: 1000;
      }
      .nav-left img {
        width: 90px;
        transition: 0.3s;
        filter: drop-shadow(0 4px 10px rgba(0, 0, 0, 0.35));
      }
      .nav-left:hover img {
        transform: scale(1.08);
        filter: drop-shadow(0 0 14px rgba(255, 215, 160, 0.6));
      }
      nav {
        display: flex;
        align-items: center;
        gap: 22px;
      }
      nav a {
        color: #f7e4bc;
        text-decoration: none;
        font-weight: 500;
        transition: 0.25s;
      }
      nav a:hover {
        transform: scale(1.1);
      }
      .cta {
        background: linear-gradient(135deg, #a36a42, #7a4a2f);
        padding: 9px 20px;
        border-radius: 14px;
        font-weight: 600;
      }

      /* ===== WRAPPER ===== */
      .wrapper {
        max-width: 980px;
        margin: auto;
        padding: 140px 20px 80px;
      }

      /* ===== TITLE ===== */
      h1 {
        text-align: center;
        font-family: "Playfair Display", serif;
        color: #f2d7a0;
      }
      .subtitle {
        text-align: center;
        font-size: 14px;
        color: #ead7b9;
        margin: 8px 0 30px;
      }

      /* ===== PROGRESS BAR ===== */
      .progress {
        width: 100%;
        height: 6px;
        background: rgba(255, 255, 255, 0.15);
        border-radius: 4px;
        overflow: hidden;
        margin-bottom: 25px;
      }
      .progress-bar {
        height: 100%;
        width: 33%;
        background: linear-gradient(90deg, #d4a373, #f2d7a0);
        transition: 0.4s ease;
      }

      /* ===== STEPS ===== */
      .steps {
        display: flex;
        justify-content: space-evenly;
        margin-bottom: 30px;
      }
      .step {
        text-align: center;
        font-size: 13px;
        color: #f7e4bc;
        opacity: 0.4;
      }
      .step.active,
      .step.done {
        opacity: 1;
      }
      .step span {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 36px;
        height: 36px;
        border-radius: 50%;
        background: #805339;
        margin: 0 auto 6px;
        font-weight: 600;
      }
      .step.done span {
        background: #4caf50;
      }

      /* ===== FORM BOX ===== */
      .form-box {
        background: rgba(255, 255, 255, 0.08);
        border-radius: 26px;
        padding: 40px;
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.35);
      }

      /* ===== BOX HEADER ===== */
      .box-header {
        text-align: center;
        margin-bottom: 30px;
      }
      .box-icon {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.15);
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 12px;
      }
      .box-icon svg {
        width: 28px;
        height: 28px;
        fill: #f7e4bc;
      }
      .box-desc {
        font-size: 14px;
        color: #ead7b9;
      }

      /* ===== STEP CONTENT ===== */
      .step-content {
        display: none;
      }
      .step-content.active {
        display: block;
      }

      /* ===== INPUT ===== */
      .field {
        margin-bottom: 18px;
      }
      label {
        font-size: 13px;
        color: #f7e4bc;
      }
      input {
        width: 100%;
        margin-top: 6px;
        padding: 12px 14px;
        border-radius: 12px;
        border: none;
        outline: none;
      }

      /* ===== ERROR ===== */
      .error {
        display: none;
        margin-top: 6px;
        font-size: 12px;
        color: #ff6b6b;
        display: flex;
        align-items: center;
        gap: 6px;
      }
      .error span {
        width: 16px;
        height: 16px;
        border-radius: 50%;
        background: #ff6b6b;
        color: #fff;
        font-size: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
      }

      /* ===== MENU ===== */
      .menu-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 22px;
      }
      .menu-item {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 18px;
        padding: 16px;
        text-align: center;
      }
      .menu-item img {
        width: 100%;
        aspect-ratio: 1/1;
        object-fit: cover;
        border-radius: 12px;
        margin-bottom: 10px;
      }
      .menu-item h3 {
        font-family: "Playfair Display", serif;
        color: #ffe7c2;
      }
      .price {
        font-size: 14px;
        color: #ead7b9;
        margin-bottom: 10px;
      }

      /* ===== QTY ===== */
      .qty {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 10px;
      }
      .qty button {
        width: 32px;
        height: 32px;
        border: none;
        border-radius: 50%;
        background: #805339;
        color: #fff;
        font-size: 18px;
        cursor: pointer;
      }
      .qty span {
        width: 32px;
        text-align: center;
        font-weight: 600;
      }

      /* ===== CONFIRM ===== */
      .confirm-card {
        background: rgba(255, 255, 255, 0.12);
        border-radius: 18px;
        padding: 20px;
        margin-bottom: 16px;
      }
      .confirm-title {
        font-weight: 600;
        margin-bottom: 10px;
        color: #f2d7a0;
      }
      .confirm-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        font-size: 14px;
        color: #ead7b9;
      }

      /* ===== BUTTONS ===== */
      .actions {
        display: flex;
        justify-content: flex-end;
        gap: 12px;
        margin-top: 30px;
      }
      .btn {
        background: linear-gradient(135deg, #a36a42, #7a4a2f);
        border: none;
        color: #fff;
        padding: 12px 26px;
        border-radius: 16px;
        cursor: pointer;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        gap: 10px;
        transition: 0.3s;
      }
      .btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 0 20px rgba(255, 215, 160, 0.6);
      }
      .btn-secondary {
        background: none;
        border: 1px solid #f7e4bc;
      }

      /* ===== MOBILE ===== */
      @media (max-width: 600px) {
        .confirm-row {
          grid-template-columns: 1fr;
        }
        header {
          padding: 14px 24px;
        }
      }
    </style>
  </head>

  <body>
    <header>
      <div class="nav-left">
        <a href="index.html"><img src="gatau2.png" /></a>
      </div>
      <nav>
        <a href="index.html">Homepage</a>
        <a href="tentang.html">About ChocoCrave</a>
        <a class="cta" href="order.html">Order Now</a>
      </nav>
    </header>

    <div class="wrapper">
      <h1>Formulir Pemesanan</h1>
      <p class="subtitle">Lengkapi Formulir Anda</p>

      <div class="progress"><div class="progress-bar" id="bar"></div></div>

      <div class="form-box">
        <div class="box-header" id="boxHeader">
          <div class="box-icon">
            <svg viewBox="0 0 24 24">
              <path
                d="M12 12a5 5 0 100-10 5 5 0 000 10zm0 2c-4 0-8 2-8 6h16c0-4-4-6-8-6z"
              />
            </svg>
          </div>
          <p class="box-desc">Lengkapi data diri Anda</p>
        </div>

        <!-- STEP 1 -->
        <div class="step-content active" id="step1">
          <div class="field">
            <label>Nama Lengkap *</label>
            <input id="nama" />
            <div class="error" id="eNama"><span>!</span>Nama wajib diisi</div>
          </div>

          <div class="field">
            <label>WhatsApp *</label>
            <input id="wa" />
            <div class="error" id="eWa">
              <span>!</span>Nomor WhatsApp wajib diisi
            </div>
          </div>

          <div class="field">
            <label>Alamat *</label>
            <input id="alamat" />
            <div class="error" id="eAlamat">
              <span>!</span>Alamat wajib diisi
            </div>
          </div>

          <div class="actions">
            <button class="btn" onclick="goStep(2)">Lanjutkan</button>
          </div>
        </div>

        <!-- STEP 2 -->
        <div class="step-content" id="step2">
          <div class="menu-grid">
            <div class="menu-item">
              <img src="ClassicFudgyBrownies.jpg" />
              <h3>Classic Fudgy</h3>
              <div class="price">Rp 28.000</div>
              <div class="qty">
                <button onclick="qty('classic',-1)">−</button>
                <span id="classic">0</span>
                <button onclick="qty('classic',1)">+</button>
              </div>
            </div>

            <div class="menu-item">
              <img src="cheese.jpeg" />
              <h3>Cheesy Sprinkle</h3>
              <div class="price">Rp 32.000</div>
              <div class="qty">
                <button onclick="qty('cheese',-1)">−</button>
                <span id="cheese">0</span>
                <button onclick="qty('cheese',1)">+</button>
              </div>
            </div>

            <div class="menu-item">
              <img src="almond.jpeg" />
              <h3>Almond Bliss</h3>
              <div class="price">Rp 35.000</div>
              <div class="qty">
                <button onclick="qty('almond',-1)">−</button>
                <span id="almond">0</span>
                <button onclick="qty('almond',1)">+</button>
              </div>
            </div>
          </div>

          <div class="error" id="eMenu">
            <span>!</span>Silakan pilih minimal 1 menu
          </div>

          <div class="actions">
            <button class="btn btn-secondary" onclick="goStep(1)">
              Kembali
            </button>
            <button class="btn" onclick="goStep(3)">Lanjutkan</button>
          </div>
        </div>

        <!-- STEP 3 -->
        <div class="step-content" id="step3">
          <div class="confirm-card">
            <div class="confirm-title">Informasi Kontak</div>
            <div class="confirm-row">
              <div>Nama : <span id="cNama"></span></div>
              <div>WhatsApp : <span id="cWa"></span></div>
              <div>Alamat : <span id="cAlamat"></span></div>
            </div>
          </div>

          <div class="confirm-card">
            <div class="confirm-title">Pesanan</div>
            <div class="confirm-row">
              <div>Classic : <span id="cClassic"></span></div>
              <div>Cheese : <span id="cCheese"></span></div>
              <div>Almond : <span id="cAlmond"></span></div>
              <div><strong>Total :</strong> <span id="cTotal"></span></div>
            </div>
          </div>

          <div class="actions">
            <button class="btn btn-secondary" onclick="goStep(2)">
              Kembali
            </button>
            <button class="btn" onclick="sendWA()">Kirim Pesanan</button>
          </div>
        </div>
      </div>
    </div>

    <script>
      const price = { classic: 28000, cheese: 32000, almond: 35000 };

      const icons = {
        user: `<svg viewBox="0 0 24 24"><path d="M12 12a5 5 0 100-10 5 5 0 000 10zm0 2c-4 0-8 2-8 6h16c0-4-4-6-8-6z"/></svg>`,
        menu: `<svg viewBox="0 0 24 24" width="28" height="28" fill="none" stroke="#f7e4bc" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
          </svg>`,
        check: `<svg viewBox="0 0 24 24"><path d="M9 16.2l-3.5-3.5L4 14.2l5 5 11-11-1.5-1.5z"/></svg>`,
      };

      let currentStep = 1;

      function setHeader(icon, text, green = false) {
        document.getElementById("boxHeader").innerHTML = `
      <div class="box-icon" style="background:${
        green ? "#4CAF50" : "rgba(255,255,255,.15)"
      }">
        ${icon}
      </div>
      <p class="box-desc">${text}</p>
    `;
      }

      function updateProgress() {
        document.getElementById("bar").style.width =
          currentStep === 1 ? "33%" : currentStep === 2 ? "66%" : "100%";
      }

      function goStep(n) {
        if (n === 2 && !validate()) return;

        if (n === 3) {
          const totalMenu =
            +classic.innerText + +cheese.innerText + +almond.innerText;

          if (totalMenu === 0) {
            eMenu.style.display = "flex";
            return;
          } else {
            eMenu.style.display = "none";
          }
        }

        document
          .querySelectorAll(".step-content")
          .forEach((s) => s.classList.remove("active"));

        document.getElementById("step" + n).classList.add("active");

        currentStep = n;
        updateProgress();

        if (n === 1) setHeader(icons.user, "Lengkapi data diri Anda");
        if (n === 2) setHeader(icons.menu, "Pilih menu yang Anda inginkan");
        if (n === 3) {
          setHeader(icons.check, "Periksa kembali pesanan Anda", true);
          fillConfirm();
        }
      }

      function validate() {
        let ok = true;

        const namaVal = nama.value.trim();
        const waVal = wa.value.trim();
        const alamatVal = alamat.value.trim();

        // === VALIDASI NAMA (HURUF & SPASI SAJA) ===
        if (!/^[A-Za-z\s]{3,}$/.test(namaVal)) {
          eNama.style.display = "flex";
          eNama.innerHTML =
            "<span>!</span>Nama harus huruf, minimal 3 karakter";
          ok = false;
        } else eNama.style.display = "none";

        // === VALIDASI WA (11–13 DIGIT ANGKA) ===
        if (!/^[0-9]{11,13}$/.test(waVal)) {
          eWa.style.display = "flex";
          eWa.innerHTML = "<span>!</span>Nomor harus 11–13 digit angka";
          ok = false;
        } else eWa.style.display = "none";

        // === ALAMAT BEBAS ===
        if (!alamatVal) {
          eAlamat.style.display = "flex";
          ok = false;
        } else eAlamat.style.display = "none";

        return ok;
      }

      function qty(id, d) {
        const el = document.getElementById(id);
        el.innerText = Math.max(0, +el.innerText + d);
      }

      function fillConfirm() {
        cNama.innerText = nama.value;
        cWa.innerText = wa.value;
        cAlamat.innerText = alamat.value;

        let html = "";
        let total = 0;

        if (+classic.innerText) {
          html += `<div>Classic : ${classic.innerText} box</div>`;
          total += classic.innerText * price.classic;
        }
        if (+cheese.innerText) {
          html += `<div>Cheese : ${cheese.innerText} box</div>`;
          total += cheese.innerText * price.cheese;
        }
        if (+almond.innerText) {
          html += `<div>Almond : ${almond.innerText} box</div>`;
          total += almond.innerText * price.almond;
        }

        document.querySelector(
          "#step3 .confirm-card:nth-child(2) .confirm-row"
        ).innerHTML =
          html +
          `<div><strong>Total :</strong> Rp ${total.toLocaleString()}</div>`;
      }

      function sendWA() {
        let pesan = "";
        if (+classic.innerText)
          pesan += `- Classic : ${classic.innerText} box\n`;
        if (+cheese.innerText) pesan += `- Cheese : ${cheese.innerText} box\n`;
        if (+almond.innerText) pesan += `- Almond : ${almond.innerText} box\n`;

        const total =
          classic.innerText * price.classic +
          cheese.innerText * price.cheese +
          almond.innerText * price.almond;

        const msg = `Halo ChocoCrave! Saya,
Nama : ${nama.value}
WA : ${wa.value}
Alamat : ${alamat.value}

Saya ingin Memesan:
${pesan}
Total : Rp ${total.toLocaleString()}`;

        window.open(
          "https://wa.me/62895410499700?text=" + encodeURIComponent(msg),
          "_blank"
        );
      }

      // INIT
      setHeader(icons.user, "Lengkapi data diri Anda");
      updateProgress();
    </script>
  </body>
</html>

